package <%= root_package %>.query;

import java.util.Set;

import <%= JACK_NAMESPACE %>.AbstractQueryBuilder;
import <%= JACK_NAMESPACE %>.IQueryOperator;
import <%= JACK_NAMESPACE %>.JackMatchers;
import <%= JACK_NAMESPACE %>.QueryConstraint;
import <%= root_package %>.iface.<%= model_defn.iface_name %>;
import <%= root_package %>.models.<%= model_defn.model_name %>;


public class <%= model_defn.query_builder_name %> extends AbstractQueryBuilder<<%=model_defn.model_name%>> {

  public <%= model_defn.query_builder_name %>(<%= model_defn.iface_name %> caller) {
    super(caller);
  }

  public <%= model_defn.query_builder_name %> id(Long value) {
    addId(value);
    return this;
  }

  public <%= model_defn.query_builder_name %> id(Set<Long> values) {
    addIds(values);
    return this;
  }

  <% model_defn.fields.each do |field_defn| %>

  public <%= model_defn.query_builder_name %> <%= field_defn.name.camelcase(:lower) %>(<%= field_defn.java_type(true) %> value) {
    if(value == null) {
      addConstraint(new QueryConstraint<<%= field_defn.java_type(true) %>>(<%= model_defn.model_name %>._Fields.<%= field_defn.name %>, JackMatchers.<<%= field_defn.java_type(true) %>>isNull()));
    }
    else {
      addConstraint(new QueryConstraint<<%= field_defn.java_type(true) %>>(<%= model_defn.model_name %>._Fields.<%= field_defn.name %>, JackMatchers.equalTo(value)));
    }
    return this;
  }

  public <%= model_defn.query_builder_name %> <%= field_defn.name.camelcase(:lower) %>(IQueryOperator<<%= field_defn.java_type(true) %>> operator) {
    addConstraint(new QueryConstraint<<%= field_defn.java_type(true) %>>(<%= model_defn.model_name %>._Fields.<%= field_defn.name %>, operator));
    return this;
  }
  <% end %>
}
